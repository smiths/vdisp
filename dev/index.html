<!DOCTYPE html>
<html lang="en"><head><meta charset="UTF-8"/><meta name="viewport" content="width=device-width, initial-scale=1.0"/><title>vdisp.jl · vdisp</title><script data-outdated-warner src="assets/warner.js"></script><link href="https://cdnjs.cloudflare.com/ajax/libs/lato-font/3.0.0/css/lato-font.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/juliamono/0.045/juliamono.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.4/css/fontawesome.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.4/css/solid.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.4/css/brands.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/KaTeX/0.13.24/katex.min.css" rel="stylesheet" type="text/css"/><script>documenterBaseURL="."</script><script src="https://cdnjs.cloudflare.com/ajax/libs/require.js/2.3.6/require.min.js" data-main="assets/documenter.js"></script><script src="siteinfo.js"></script><script src="../versions.js"></script><link class="docs-theme-link" rel="stylesheet" type="text/css" href="assets/themes/documenter-dark.css" data-theme-name="documenter-dark" data-theme-primary-dark/><link class="docs-theme-link" rel="stylesheet" type="text/css" href="assets/themes/documenter-light.css" data-theme-name="documenter-light" data-theme-primary/><script src="assets/themeswap.js"></script></head><body><div id="documenter"><nav class="docs-sidebar"><div class="docs-package-name"><span class="docs-autofit"><a href>vdisp</a></span></div><form class="docs-search" action="search/"><input class="docs-search-query" id="documenter-search-query" name="q" type="text" placeholder="Search docs"/></form><ul class="docs-menu"><li class="is-active"><a class="tocitem" href>vdisp.jl</a></li></ul><div class="docs-version-selector field has-addons"><div class="control"><span class="docs-label button is-static is-size-7">Version</span></div><div class="docs-selector control is-expanded"><div class="select is-fullwidth is-size-7"><select id="documenter-version-selector"></select></div></div></div></nav><div class="docs-main"><header class="docs-navbar"><nav class="breadcrumb"><ul class="is-hidden-mobile"><li class="is-active"><a href>vdisp.jl</a></li></ul><ul class="is-hidden-tablet"><li class="is-active"><a href>vdisp.jl</a></li></ul></nav><div class="docs-right"><a class="docs-edit-link" href="https://github.com/smiths/vdisp/blob/main/docs/src/index.md" title="Edit on GitHub"><span class="docs-icon fab"></span><span class="docs-label is-hidden-touch">Edit on GitHub</span></a><a class="docs-settings-button fas fa-cog" id="documenter-settings-button" href="#" title="Settings"></a><a class="docs-sidebar-button fa fa-bars is-hidden-desktop" id="documenter-sidebar-button" href="#"></a></div></header><article class="content" id="documenter-page"><h1 id="vdisp.jl"><a class="docs-heading-anchor" href="#vdisp.jl">vdisp.jl</a><a id="vdisp.jl-1"></a><a class="docs-heading-anchor-permalink" href="#vdisp.jl" title="Permalink"></a></h1><article class="docstring"><header><a class="docstring-binding" id="vdisp.readInputFile" href="#vdisp.readInputFile"><code>vdisp.readInputFile</code></a> — <span class="docstring-category">Function</span></header><section><div><pre><code class="language-julia hljs">readInputFile(inputPath, outputPath)</code></pre><p>Reads and parses input file at inputPath and outputs calculations to file at outputPath</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/smiths/vdisp/blob/cc3049823766cae004f09c6131488e71770803d5/src/vdisp.jl#L616-L620">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="Main.CalculationBehaviour.getEffectiveStress" href="#Main.CalculationBehaviour.getEffectiveStress"><code>Main.CalculationBehaviour.getEffectiveStress</code></a> — <span class="docstring-category">Function</span></header><section><div><pre><code class="language-julia hljs">getEffectiveStress(behaviour)</code></pre><p>Calculates the effective stress at each nodal point given values in the <code>InputData</code> instance contained in <code>behaviour</code>. Returns two identical  <code>Float64</code> arrays (unless model is ConsolidationSwell and equilibrium moisture  profile is saturated above water table). <code>VDisp</code> never alters the second array so the original effective stress values are always available for each nodal point,  and alters the first array adding all other stress values to each corresponding nodal point.</p><p><strong>Calculations</strong></p><p>The effective stress at depth <code>z</code>, <span>$\sigma&#39;_z$</span>, is calculated using the following formulas:</p><p><span>$\sigma&#39;_z = (\gamma_{sat}-\gamma_w)z$</span></p><p>Which can be derived from the following equations:</p><p><span>$\sigma_z = \sigma&#39;_z + u_w$</span></p><p><span>$u_w = \gamma_w z$</span></p><p><span>$\sigma_z = \gamma_{sat} z$</span></p><p>This calculation is repeated at each depth increment.</p><p>The bulk unit weight, <span>$\gamma$</span>, which is equal to <span>$\gamma_{sat}-\gamma_w$</span>  is calculated by the following formula:</p><p><span>$\gamma = \frac{W}{V} = \frac{G_s (1+w) \gamma_w}{1+e}$</span></p><p><strong>Variables</strong></p><p><span>$\sigma_z$</span>: stress at depth <code>z</code></p><p><span>$\sigma_z&#39;$</span>: effective stress at depth <code>z</code></p><p><span>$\gamma_w$</span>: unit weight of water</p><p><span>$\gamma_{sat}$</span>: unit weight of saturated soil</p><p><span>$G_s$</span>: specific gravity of soil</p><p><span>$w$</span>: water content of soil</p><p><span>$e$</span>: void ratio of soil</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/smiths/vdisp/blob/cc3049823766cae004f09c6131488e71770803d5/src/OutputFormat/CalculationBehaviour.jl#L521-L568">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="Main.CalculationBehaviour.getSurchargePressure" href="#Main.CalculationBehaviour.getSurchargePressure"><code>Main.CalculationBehaviour.getSurchargePressure</code></a> — <span class="docstring-category">Function</span></header><section><div><pre><code class="language-julia hljs">getSurchargePressure(behaviour, P, PP)</code></pre><p>Calculates the stress after adding foundation at each nodal point below the foundation. The values are added to array <code>P</code>, while array <code>PP</code> remains unchanged. <code>VDisp</code> software  calls this function using <code>P</code> and <code>PP</code> returned from the <code>getEffectiveStress()</code> function.</p><p><strong>Calculations</strong></p><p>Using the Boussinesq equation for stress at a point under the corner of a rectangular  area, the stress from adding the foundation is calculated at each depth increment. If the calculation must be done from the center (i.e. <code>behaviour.center == true</code>), the 2:1 method is used: length, <code>a</code>, and width, <code>b</code>, are halved, while the whole equation is  multiplied by a factor of 4 (the leading factor becomes <span>$\frac{2q}{\pi}$</span> rather than  <span>$\frac{q}{2\pi}$</span>. This is because the calculation in the center can be seen as splitting the rectangular area into 4 quadrants, where the original <em>center</em> is a <em>corner</em> for each  rectangle. Now the Boussinesq equation for stress at a point under the <em>corner</em> of a rectangular area can be used, however there are 4 of these rectangles contributing to the load, hence the multiplication by a factor of 4). The stress increase at depth <code>z</code> is denoted  as <span>$\sigma_z$</span>, and is calculated using the following equation:</p><p><span>$\sigma_z = \frac{q}{2 \pi} (\text{tan}^{-1}(\frac{ab}{zC})+\frac{abz}{C}(\frac{1}{A^2}+\frac{1}{B^2})) \text{ where,}$</span></p><p><span>$A^2 = a^2 + z^2$</span></p><p><span>$B^2 = b^2 + z^2$</span></p><p><span>$C = \sqrt{a^2+b^2+z^2}$</span></p><p><strong>Variables</strong></p><p><span>$q$</span>: net applied footing pressure</p><p><span>$\sigma_z$</span>: stress increase at depth <code>z</code></p><p><span>$a$</span>: length of the foundation</p><p><span>$b$</span>: width of the foundation</p><p><span>$z$</span>: depth</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/smiths/vdisp/blob/cc3049823766cae004f09c6131488e71770803d5/src/OutputFormat/CalculationBehaviour.jl#L628-L669">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="Main.CalculationBehaviour.getValue" href="#Main.CalculationBehaviour.getValue"><code>Main.CalculationBehaviour.getValue</code></a> — <span class="docstring-category">Function</span></header><section><div><pre><code class="language-julia hljs">getValue(behaviour::ConsolidationSwellCalculationBehaviour)</code></pre><p>This functions first calls <code>getEffectiveStress()</code> and <code>getSurchargePressure()</code> with <code>behaviour</code> as the argument to establish the two arrays <code>P</code> and <code>PP</code>. It then calculates total heave (<code>Δh</code>), subsoil movement (<code>Δh2</code>), and heave  above foundation (<code>Δh1</code>). It also calculates values at each depth increment and places them in two tables,  <code>heaveAboveFoundationTable</code> and <code>heaveBelowFoundationTable</code>. Returns tuple (<code>P</code>, <code>PP</code>, <code>heaveAboveFoundationTable</code>,  <code>heaveBelowFoundationTable</code>, <code>Δh1</code>, <code>Δh2</code>, <code>Δh</code>)</p><p><strong>Calculations</strong></p><p><span>$\Delta e_j = C_c \log_{10}{\frac{\sigma_{fj}&#39;}{\sigma_{oj}&#39;}} \text{, if } \sigma_{fj}&#39; &lt; \sigma_{pj}&#39;$</span></p><p><span>$\Delta e_j = C_r \log_{10}{\frac{\sigma_{pj}&#39;}{\sigma_{oj}&#39;}} + C_c \log_{10}{\frac{\sigma_{fj}&#39;}{\sigma_{pj}&#39;}} \text{, if } \sigma_{fj}&#39; \ge \sigma_{pj}&#39;$</span></p><p><span>$\sigma_{oj}&#39; = \frac{\sigma_{oj1}&#39; + \sigma_{oj2}&#39;}{2}$</span></p><p><span>$\rho_{cj} = \frac{\Delta e_j}{1 + e_{0j}}H_j$</span></p><p><span>$\rho_c = \sum_{j=1}^{n} \rho_{cj}$</span></p><p><strong>Variables</strong></p><p><span>$\Delta e_j$</span>: change in void ratio of soil layer <em>j</em></p><p><span>$e_{0j}$</span>: initial void ratio of soil layer <em>j</em></p><p><span>$\sigma_{oj}&#39;$</span>: effectuve stress of layer <em>j</em></p><p><span>$\sigma_{oj1}&#39;$</span>: effective stress at top of layer <em>j</em></p><p><span>$\sigma_{oj2}&#39;$</span>: effective stress at bottom of layer <em>j</em></p><p><span>$\sigma_{fj}&#39;$</span>: final applied effective stress of layer <em>j</em></p><p><span>$C_c$</span>: compression index</p><p><span>$C_r$</span>: recompression index</p><p><span>$\rho_{cj}$</span>: one-dimensional consolidation of layer <em>j</em></p><p><span>$H_j$</span>: thickness of layer <em>j</em></p><p><span>$n$</span>: number of layers</p><blockquote><p>Note: Tables <code>heaveAboveFoundationTable</code> and <code>heaveBelowFoundationTable</code> contain the following values in each row: <span>$j$</span>, <span>$\frac{dx}{2} + j \times dx$</span>, <span>$\frac{\rho_{cj}}{H_j}$</span>, <span>$\sigma_{fj}-\sigma_{oj}$</span></p></blockquote></div><a class="docs-sourcelink" target="_blank" href="https://github.com/smiths/vdisp/blob/cc3049823766cae004f09c6131488e71770803d5/src/OutputFormat/CalculationBehaviour.jl#L104-L151">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="Main.CalculationBehaviour.schmertmannApproximation" href="#Main.CalculationBehaviour.schmertmannApproximation"><code>Main.CalculationBehaviour.schmertmannApproximation</code></a> — <span class="docstring-category">Function</span></header><section><div><pre><code class="language-julia hljs">schmertmannApproximation(behaviour, elasticModulusGiven, PP)</code></pre><p>Calculates settlement at each depth increment, <span>$\rho_i$</span>, and sums it up to calculate total settlement, <span>$\rho$</span>. If <code>elasticModulus == true</code>, input file must have elastic moduli, <span>$E_{si}$</span>, for each soil layer. Else, input file must  have cone penetration resistance data, <span>$q_{ci}$</span>, for each soil layer. Returns a 2D array of settlement values with each row  containing the element number, the depth of the layer, and it&#39;s settlement.</p><p><strong>Calculations</strong></p><p>This subroutine calculates total settlement using the <strong>Schmertmann Approximation</strong>:</p><p><span>$\rho = C_1 C_t \Delta p \Delta z \sum_{i=1}^{n} \frac{I_{iz}}{E_{si}} \text{ where, }$</span></p><p><span>$C_1 = 1 - \frac{0.5 \sigma_{od}&#39;}{\Delta p}, C_1 \ge 0.5$</span></p><p><span>$C_t = 1 + 0.2 \log_{10} \frac{t}{0.1}$</span></p><p><span>$E_{si} = 2.5 q_{ci} \text{ if rectangular footing, } 3.5 q_{ci} \text{ if long strip footing}$</span></p><p><span>$I_{zp} = 0.5 + 0.1 \sqrt{\frac{\Delta p}{\sigma_{izp}&#39;}}$</span></p><p><span>$I_{iz} = 0 \text{ if } z &gt; 2w \text{,} \frac{4}{3}I_{zp} - \frac{I_{zp} z}{1.5w} \text{ if } z &gt; 0.5w \text{ , else } 0.1 + \frac{(I_{zp}-0.1)z}{0.5w}$</span></p><p><span>$\sigma_{izp}&#39; = \frac{\sigma_{topi}&#39; + \sigma_{boti}&#39;}{2}$</span></p><p><span>$\Delta p =  Q - \sigma_{od}&#39;$</span></p><p><strong>Variables</strong></p><p><span>$C_1$</span>: correction to account for strain relief from embedment</p><p><span>$C_t$</span>: correction for time dependant inrease in settlement </p><p><span>$\sigma_{od}&#39;$</span>: effective stress at bottom of foundation</p><p><span>$\Delta p$</span>: net applied footing pressure</p><p><span>$Q$</span>: applied pressure </p><p><span>$t$</span>: time in years since construction</p><p><span>$\Delta z$</span>: depth increment</p><p><span>$I_{iz}$</span>: influence factor of soil layer <code>i</code></p><p><span>$E_{si}$</span>: elastic modulus of soil layer <code>i</code> </p><p><span>$q_{ci}$</span>: cone penetration resistance of soil layer <code>i</code> </p><p><span>$\sigma_{topi}&#39;$</span>: effective stress at top of soil layer <code>i</code></p><p><span>$\sigma_{boti}&#39;$</span>: effective stress at bottom of soil layer <code>i</code></p><p><span>$\rho_i$</span>: settlement of soil layer <code>i</code></p><p><span>$\rho$</span>: total settlement</p><p><strong>Code</strong></p><p>The code first calculates the settlement of each soil layer, <span>$\rho_i$</span>, then sums up settlements at each depth increment. The following two formulas are used to achieve this:</p><p><span>$\rho_i = C_1 C_t \Delta p \Delta z \frac{I_{iz}}{E_{si}}$</span></p><p><span>$\rho = \sum_{i=1}^{n} \rho_i$</span></p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/smiths/vdisp/blob/cc3049823766cae004f09c6131488e71770803d5/src/OutputFormat/CalculationBehaviour.jl#L718-L784">source</a></section></article><p>Documentation for vdisp.jl</p></article><nav class="docs-footer"><p class="footer-message">Powered by <a href="https://github.com/JuliaDocs/Documenter.jl">Documenter.jl</a> and the <a href="https://julialang.org/">Julia Programming Language</a>.</p></nav></div><div class="modal" id="documenter-settings"><div class="modal-background"></div><div class="modal-card"><header class="modal-card-head"><p class="modal-card-title">Settings</p><button class="delete"></button></header><section class="modal-card-body"><p><label class="label">Theme</label><div class="select"><select id="documenter-themepicker"><option value="documenter-light">documenter-light</option><option value="documenter-dark">documenter-dark</option></select></div></p><hr/><p>This document was generated with <a href="https://github.com/JuliaDocs/Documenter.jl">Documenter.jl</a> version 0.27.22 on <span class="colophon-date" title="Thursday 28 July 2022 18:51">Thursday 28 July 2022</span>. Using Julia version 1.7.2.</p></section><footer class="modal-card-foot"></footer></div></div></div></body></html>
